<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Test Checked Property Issue</title>
    <script type="module">
        import './src/components/BlnFormular.js';
        
        document.addEventListener('DOMContentLoaded', () => {
            const formular = document.querySelector('bln-formular');
            
            formular.addEventListener('bln-submit', (e) => {
                console.log('Submitted data:', e.detail.data);
                
                // Expected: { newsletter: true, category: 'tech' }
                // Current bug: { newsletter: 'on', category: 'tech' } (or similar incorrect value)
                
                const result = document.getElementById('result');
                result.innerHTML = `<pre>${JSON.stringify(e.detail.data, null, 2)}</pre>`;
            });
            
            document.getElementById('submit-btn').addEventListener('click', () => {
                formular.submit();
            });
        });
    </script>
</head>
<body>
    <h1>Test: BlnFormular Checkbox 'checked' Property Issue</h1>
    
    <bln-formular legend="Test Form">
        <div>
            <label>
                <input type="checkbox" name="newsletter" checked> Newsletter abonnieren
            </label>
        </div>
        <div>
            <label>
                <input type="radio" name="category" value="tech" checked> Technik
            </label>
            <label>
                <input type="radio" name="category" value="sport"> Sport
            </label>
        </div>
        <div>
            <label>
                <input type="checkbox" name="terms"> AGB akzeptieren (nicht angekreuzt)
            </label>
        </div>
        
        <div slot="actions">
            <button type="button" id="submit-btn">Test Submit</button>
        </div>
    </bln-formular>
    
    <h2>Ergebnis:</h2>
    <div id="result">Noch nicht getestet...</div>
    
    <h3>Erwartetes Verhalten:</h3>
    <pre>{
  "newsletter": true,
  "category": "tech", 
  "terms": false
}</pre>
    
    <h3>Aktueller Bug:</h3>
    <p>Checkbox gibt 'on' oder ähnlichen Wert zurück statt boolean true/false</p>
</body>
</html>